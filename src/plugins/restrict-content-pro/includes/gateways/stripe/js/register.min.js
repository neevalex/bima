function rcpStripeEnableForm(){jQuery("#rcp_registration_form #rcp_submit").attr("disabled",!1),jQuery("#rcp_ajax_loading").hide(),jQuery("#rcp_registration_form").unblock(),jQuery("#rcp_submit").val(rcp_script_options.register),rcp_processing=!1}jQuery(function(e){e("body").on("rcp_gateway_loaded",function(e,r){document.getElementById("rcp-card-element")&&(rcpStripe.elements.card.mount("#rcp-card-element"),rcpStripe.elements.card.addEventListener("change",rcpStripeToggleElementErrors))}),e("body").off("rcp_register_form_submission").on("rcp_register_form_submission",function(r,t,n){if("stripe"===t.gateway.slug&&(t.total||t.recurring_total&&t.auto_renew)&&!e(".rcp_gateway_fields").hasClass("rcp_discounted_100")){r.preventDefault(),e(".rcp_message.error").remove(),e("#rcp_registration_form #rcp_submit").attr("disabled",!0),e("#rcp_ajax_loading").show();var i={name:e(".card-name").val()};rcpStripe.Stripe.createToken(rcpStripe.elements.card,i).then(function(e){if(e.error)rcpStripeEnableForm(),rcpStripeToggleElementErrors(e);else{var r=document.getElementById("rcp_registration_form"),t=document.createElement("input");t.value=e.token.id,t.type="hidden",t.name="stripeToken",r.appendChild(t),r.submit()}})}})});